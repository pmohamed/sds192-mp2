---
title: "Mini Project 3"
author: "Ivana William and Haiqa Mohamed"
date: "March 21, 2018"
output: html_document
code_folding: hide
---

```{r setup, echo = FALSE, message = FALSE}
library(ggplot2)
library(dplyr)
library(tidyverse)
```

```{r, echo = FALSE, message = FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

We are filtering the democrats and republicans out of the house elections data set and also we ate creating a new column for the total numer of votes (which consists of the primary votes and the general votes)
```{r setup, echo = FALSE, message = FALSE}
poll_results <- house_elections%>%
  filter(party == "R"| party == "D")%>%
  mutate(Total_votes = general_votes + primary_votes) 
```
Below we are filtering the northeast states from the contributions dataset
```{r}
northeast_contributions <- contributions%>%  
  filter(state %in% c("CT","MA","NH","NJ","NY","PA"))
```

```{r setup, echo = FALSE, message = FALSE}
northeast <- poll_results%>%
 filter(state %in% c("CT","MA","NH","NJ","NY","PA"))
```
used Inner-join to join contributions and votes by "state"

```{r}
contributions_votes <- northeast_contributions %>% left_join(northeast, by="state")
```

graph 2
```{r}
poll_graph <- ggplot(northeast, aes(x = "CT","MA","NH","NJ","NY","PA")) +
  geom_bar(aes(fill = party))


  xlab("State")+
  ylab("Total Votes") + facet_wrap(~state) + scale_fill_manual(values=c("BLUE", "RED")) 
  
poll_graph
```


```{r}
poll_graph <- ggplot(contributions_votes, aes(x = state)) +
  geom_bar(aes(y = Total_votes, fill = party), stat = "identity") + 
  geom_bar(aes(y = transaction_amt, fill = party), stat = "identity" ) + facet_wrap(~state)
  

poll_graph
```






