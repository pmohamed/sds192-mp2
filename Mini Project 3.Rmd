---
title: "Mini Project 3"
author: "Ivana William and Haiqa Mohamed"
date: "March 21, 2018"
output: html_document
code_folding: hide
---

```{r setup, echo = FALSE, message = FALSE}
library(ggplot2)
library(dplyr)
library(tidyverse)
```

```{r, echo = FALSE, message = FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r setup, echo = FALSE, message = FALSE}
poll_results <- house_elections%>%
mutate(Total_votes = general_votes + primary_votes) 
```
```{r}
northeast_contributions <- contributions%>%  
  filter(state %in% c("CT","MA","NH","NJ","NY","PA"))
```

used Inner-join to join contributions and votes by "state"
```{r setup, echo = FALSE, message = FALSE}
northeast_contributions <- contributions%>%  
  filter(state %in% c("CT","MA","NH","NJ","NY","PA"))
```

used Inner-join to join contributions and votes by "state". Then created a new dataset that has the contribution and votes data sets but filtered for the 6 Northeastern states. We then grouped by party and state and summarised by transaction amount to make the data more managable

```{r}
contributions_votes <- northeast_contributions %>% inner_join(northeast, by="state")

contributions_votes2 <- contributions_votes %>% filter(state %in% c("CT","MA","NH","NJ","NY","PA"))%>%
  group_by(party, state) %>%
  summarise(sum = sum(transaction_amt))
```

graph 2
```{r}
poll_graph <- ggplot(northeast, aes(x = "CT","MA","NH","NJ","NY","PA")) +
  geom_bar(aes(fill = party)) +  xlab("State")+
  ylab("Total Votes") + scale_fill_manual(values=c("BLUE", "RED")) 


```

```{r}
poll_graph <- ggplot(contributions_votes2, aes(x = party, y = sum)) +
  geom_bar(stat = "identity") + facet_wrap(~state)
  

poll_graph
```

We isolated the six Northeast states and looked at how many contributions each party was able to get. Contributions are a pivotal component of the election and if a party isn’t able to get ample contributions (in terms of transaction amounts), then it is quite unlikely that the candidates are able to succeed in securing office. As the graph displays we can see that overall, it is the Democratic and the Republican party that are able to secure the most contributions. 

	It is interesting to note that in New Haven there aren’t very many contributions for any of the parties in the data set. We can see that in Connecticut and Pennsylvania, Republican contributions outweigh the other parties indicating that these states are primarily Republican. Whereas, Massachusetts, New York and New Jersey are primary Democratic states. 


